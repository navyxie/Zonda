// Generated by CoffeeScript 1.6.2
define(function(require, exports, module) {
  var $, Mustache;

  $ = require("jquery");
  Mustache = require("mustache");
  return module.exports = function(config) {
    var index, _i, _ref,
      _this = this;

    for (index = _i = 1, _ref = config.length; 1 <= _ref ? _i < _ref : _i > _ref; index = 1 <= _ref ? ++_i : --_i) {
      $(config.page.sel).append(Mustache.render(config.page.tpl, {
        page: index
      }));
    }
    $(config.page.sel).children.each(function(index) {
      _this.goto(index);
      return _this.autoPlay();
    });
    return this.on("" + config.sel + ":goto:slide:success", function(now) {
      $(config.page.sel).find(".active").removeClass("active");
      return $(config.page.sel).children().eq(now.index).addClass("active");
    });
  };
});
